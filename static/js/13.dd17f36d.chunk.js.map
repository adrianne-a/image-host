{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/UserAddOutlined.js","../node_modules/@ant-design/icons/es/icons/UserAddOutlined.js","pages/Register.js"],"names":["UserAddOutlined","props","ref","React","AntdIcon","_objectSpread","icon","UserAddOutlinedSvg","displayName","fade","keyframes","Wraper","styled","div","Title","h2","StyledButton","Button","layout","labelCol","span","wrapperCol","tailLayout","offset","Component","AuthStore","useStores","history","useHistory","name","onFinish","values","console","log","setUsername","username","setPassword","password","register","then","push","catch","onFinishFailed","errorInfo","Item","label","rules","required","message","validator","rule","value","test","Promise","reject","length","resolve","min","max","Password","getFieldValue","type","block","htmlType"],"mappings":"kMAEeA,EADO,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,u2BAA22B,KAAQ,WAAY,MAAS,Y,QCMjiCA,EAAkB,SAAyBC,EAAOC,GACpD,OAAoBC,gBAAoBC,IAAUC,YAAcA,YAAc,GAAIJ,GAAQ,GAAI,CAC5FC,IAAKA,EACLI,KAAMC,MAIVP,EAAgBQ,YAAc,kBACFL,mBAAiBH,G,28BCP7C,IAAMS,EAAOC,YAAH,KAYJC,EAASC,IAAOC,IAAV,IAUGJ,GAGTK,EAAQF,IAAOG,GAAV,KAOLC,EAAeJ,YAAOK,IAAPL,CAAH,KAgBZM,EAAS,CACbC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAGJE,EAAa,CACjBD,WAAY,CACVE,OAAQ,EACRH,KAAM,KAgHKI,UA5GG,WAAO,IACfC,EAAcC,cAAdD,UACFE,EAAUC,cAmChB,OACE,kBAACjB,EAAD,KACE,kBAACG,EAAD,0BAEA,kBAAC,IAAD,iBACMI,EADN,CAEEW,KAAK,QACLC,SAvCW,SAAAC,GACfC,QAAQC,IAAI,WAAYF,GACxBN,EAAUS,YAAYH,EAAOI,UAC7BV,EAAUW,YAAYL,EAAOM,UAC7BZ,EAAUa,WACPC,MAAK,WACJP,QAAQC,IAAI,4DACZN,EAAQa,KAAK,QACZC,OAAM,WACPT,QAAQC,IAAI,oEA+BZS,eA3BiB,SAAAC,GACrBX,QAAQC,IAAI,UAAWU,MA4BnB,kBAAC,IAAKC,KAAN,CACEC,MAAM,qBACNhB,KAAK,WACLiB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,kCAEX,CACEC,UAlCa,SAACC,EAAMC,GAC9B,MAAI,KAAKC,KAAKD,GAAeE,QAAQC,OAAO,gEACxCH,EAAMI,OAAS,GAAKJ,EAAMI,OAAS,GAAWF,QAAQC,OAAO,iDAC1DD,QAAQG,cAmCT,kBAAC,IAAD,OAGF,kBAAC,IAAKZ,KAAN,CACEC,MAAM,eACNhB,KAAK,WACLiB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,4BAEX,CACES,IAAK,EACLT,QAAS,mCAEX,CACEU,IAAK,GACLV,QAAS,sCAIb,kBAAC,IAAMW,SAAP,OAGF,kBAAC,IAAKf,KAAN,CACEC,MAAM,2BACNhB,KAAK,kBACLiB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,wCA9DG,SAAC,GAAD,IAAGY,EAAH,EAAGA,cAAH,MAAwB,CAC9CX,UAD8C,SACpCC,EAAMC,GACd,OAAIS,EAAc,cAAgBT,EAAcE,QAAQG,UACjDH,QAAQC,OAAO,mDAgElB,kBAAC,IAAMK,SAAP,OAGF,kBAAC,IAAKf,KAAStB,EACb,kBAACN,EAAD,CAAc6C,KAAK,UAAUC,OAAK,EAACC,SAAS,UAC1C,kBAAC,EAAD,MADF","file":"static/js/13.dd17f36d.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar UserAddOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"user-add\", \"theme\": \"outlined\" };\nexport default UserAddOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UserAddOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserAddOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UserAddOutlined = function UserAddOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: UserAddOutlinedSvg\n  }));\n};\n\nUserAddOutlined.displayName = 'UserAddOutlined';\nexport default /*#__PURE__*/React.forwardRef(UserAddOutlined);","import React from 'react';\nimport { Form, Input, Button } from 'antd';\nimport { UserAddOutlined } from '@ant-design/icons';\nimport styled, { keyframes } from 'styled-components';\nimport { useStores } from '../stores';\nimport { useHistory } from 'react-router-dom';\n\n\nconst fade = keyframes`\nfrom {\n    opacity: 0;\n    transform: translateY(40px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0px);\n}\n`\n\n\nconst Wraper = styled.div`\n  max-width: 460px;\n  margin: 30px auto;\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18), 0 5px 16px 0 rgba(0, 0, 0, 0.17);\n  // border-radius: 8px;\n  padding: 50px;\n\n  &:hover{\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  }\n  animation: ${fade} 1500ms ease;\n`;\n\nconst Title = styled.h2`\n  text-align: center;\n  padding-bottom:9px;\n  margin-bottom: 30px;\n  border-bottom:1px solid #eee;\n`;\n\nconst StyledButton = styled(Button)`\n  background:#adc6ff;\n  border:none;\n  &:hover{\n    background-color: #85a5ff;\n  }\n  &:focus{\n    background-color: #85a5ff;\n  }\n`\n\n// #e6fffb\n\n// #438642\n\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 18,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 6,\n    span: 18,\n  },\n};\n\nconst Component = () => {\n  const { AuthStore } = useStores();\n  const history = useHistory();\n\n\n  const onFinish = values => {\n    console.log('Success:', values);\n    AuthStore.setUsername(values.username);\n    AuthStore.setPassword(values.password);\n    AuthStore.register()\n      .then(() => {\n        console.log('注册成功, 跳转到首页')\n        history.push('/')\n      }).catch(() => {\n        console.log('登录失败，什么都不做')\n      });\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const validateUsername = (rule, value) => {\n    if (/\\W/.test(value)) return Promise.reject('只能是字母数字下划线');\n    if (value.length < 4 || value.length > 10) return Promise.reject('长度为4～10个字符');\n    return Promise.resolve();\n  };\n\n  const validateConfirm = ({ getFieldValue }) => ({\n    validator(rule, value) {\n      if (getFieldValue('password') === value) return Promise.resolve();\n      return Promise.reject('两次密码不一致');\n    }\n  });\n\n\n\n  return (\n    <Wraper>\n      <Title>\n        Register New User</Title>\n      <Form\n        {...layout}\n        name=\"basic\"\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n      >\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[\n            {\n              required: true,\n              message: '输入用户名',\n            },\n            {\n              validator: validateUsername\n            }\n          ]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item\n          label=\"密码\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: '输入密码',\n            },\n            {\n              min: 4,\n              message: '最少4个字符'\n            },\n            {\n              max: 10,\n              message: '最大10个字符'\n            }\n          ]}\n        >\n          <Input.Password />\n        </Form.Item>\n\n        <Form.Item\n          label=\"确认密码\"\n          name=\"confirmPassword\"\n          rules={[\n            {\n              required: true,\n              message: '再次确认密码',\n            },\n            validateConfirm\n          ]}\n        >\n          <Input.Password />\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n          <StyledButton type=\"primary\" block htmlType=\"submit\">\n            <UserAddOutlined />注册\n          </StyledButton>\n        </Form.Item>\n      </Form>\n    </Wraper>\n  );\n};\n\nexport default Component;"],"sourceRoot":""}