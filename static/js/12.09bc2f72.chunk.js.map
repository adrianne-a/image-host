{"version":3,"sources":["components/List.js","pages/History.js"],"names":["ImgBorder","styled","div","Img","img","ImgName","ImgLink","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","href","tip","History","List"],"mappings":"osBASA,IAAMA,EAAYC,IAAOC,IAAV,KAMTC,EAAMF,IAAOG,IAAV,KAKHC,EAAUJ,IAAOC,IAAV,KAIPI,EAAUL,IAAOC,IAAV,KA6DEK,EAxDGC,aAAS,WAAO,IACtBC,EAAiBC,cAAjBD,aAeR,OATAE,qBAAU,WAGN,OAFAC,QAAQC,IAAI,MAEL,WACHD,QAAQC,IAAI,OACZJ,EAAaK,WAElB,IAGC,6BACI,kBAAC,IAAD,CACIC,aAAa,EACbC,UAAW,EACXC,SAlBK,WACbR,EAAaS,QAkBLC,SAAUV,EAAaW,WAAaX,EAAaU,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACIC,WAAYb,EAAac,KACzBC,WACI,SAAAC,GAAI,OAAI,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IAEzB,kBAAC5B,EAAD,KACI,kBAACG,EAAD,CAAK0B,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE7C,kBAAC1B,EAAD,KACI,kDACA,4BAAKoB,EAAKK,WAAWE,WAEzB,kBAAC1B,EAAD,KACI,wDACA,uBAAG2B,OAAO,SAASC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,KAAMN,EAAKK,WAAWC,IAAID,WAAWC,IAA7F,SAKXtB,EAAaW,WAAaX,EAAaU,SACpC,6BACI,kBAAC,IAAD,CAAMgB,IAAI,8BC/DvBC,UATf,WACE,OACE,oCACE,uCACA,kBAACC,EAAD","file":"static/js/12.09bc2f72.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { observer } from 'mobx-react';\nimport { List, Spin } from 'antd';\nimport styled from 'styled-components';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { useStores } from '../stores';\n\n\n\nconst ImgBorder = styled.div`\n    width:130px;\n    height:100px;\n    overflow:hidden;\n\n`\nconst Img = styled.img`\n    max-width:100%;\n    margin:auto;\n    display:block;\n`\nconst ImgName = styled.div`\n    margin: 0 60px;\n    width: 300px;\n`\nconst ImgLink = styled.div`\n    margin: 0 20px;\n    max-width: 500px;\n`\n\nconst Component = observer(() => {\n    const { HistoryStore } = useStores();\n\n    const loadMore = () => {\n        HistoryStore.find()\n    };\n\n    useEffect(() => {\n        console.log('in');\n\n        return () => {\n            console.log('out');\n            HistoryStore.reset();\n        }\n    }, [])//eslint-disable-line\n\n    return (\n        <div>\n            <InfiniteScroll\n                initialLoad={true}\n                pageStart={0}\n                loadMore={loadMore}\n                hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n                useWindow={true}\n            >\n                <List\n                    dataSource={HistoryStore.list}\n                    renderItem={\n                        item => <List.Item key={item.id}>\n\n                            <ImgBorder>\n                                <Img src={item.attributes.url.attributes.url}></Img>\n                            </ImgBorder>\n                            <ImgName>\n                                <h4>图片名</h4>\n                                <h5>{item.attributes.filename}</h5>\n                            </ImgName>\n                            <ImgLink>\n                                <h4>图片链接</h4>\n                                <a target=\"_black\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url} </a>\n                            </ImgLink>\n                        </List.Item>\n                    }\n                >\n                    {HistoryStore.isLoading && HistoryStore.hasMore && (\n                        <div>\n                            <Spin tip=\"加载中\"></Spin>\n                        </div>\n                    )}\n\n                </List>\n            </InfiniteScroll>\n        </div>\n    );\n});\n\nexport default Component;","import React from 'react';\nimport List from '../components/List';\n\nfunction History() {\n  return (\n    <>\n      <h2>History</h2>\n      <List></List>\n    </>\n  );\n}\n\nexport default History;"],"sourceRoot":""}